{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["function createParams(imagesTag) {\n    const searchParams = new URLSearchParams({\n        key: '46823434-044aaff3f806d325c686b1cda',\n        q: imagesTag,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n    return searchParams;\n}\n\nexport default function fetchImages(imagesTag) {\n    return fetch(`https://pixabay.com/api/?${createParams(imagesTag)}`).then(\n        response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n\n            return response.json();\n        }\n    );\n}\n","export default function renderImages(imagesObj) {\n    const imagesMarkupArray = imagesObj.hits.map(\n        ({\n            largeImageURL,\n            webformatURL,\n            tags,\n            likes,\n            views,\n            comments,\n            downloads,\n        }) => {\n            return `<li class=\"list-item\">\n                        <a href='${largeImageURL}' class=\"image-link\"> \n                            <img src='${webformatURL}' alt=\"${tags}\">\n                        </a>\n                        <div class=\"list-item-info\">\n                            <div class=\"image-info\">\n                                <h2>Likes</h2>\n                                <p>${likes}</p>\n                            </div>\n                            <div class=\"image-info\">\n                                <h2>Views</h2>\n                                <p>${views}</p>\n                            </div>\n                            <div class=\"image-info\">\n                                <h2>Comments</h2>\n                                <p>${comments}</p>\n                            </div>\n                            <div class=\"image-info\">\n                                <h2>Downloads</h2>\n                                <p>${downloads}</p>\n                            </div>\n                        </div>                 \n                    </li> `;\n        }\n    );\n    return imagesMarkupArray.join('');\n}\n","import fetchImages from './js/pixabay-api';\nimport renderImages from './js/render-functions';\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nconst form = document.querySelector('form');\nconst imagesList = document.querySelector('ul');\n\nform.addEventListener('submit', event => {\n    event.preventDefault();\n\n    if (!event.target.elements.search.value) {\n        return;\n    }\n\n    imagesList.innerHTML = '';\n    document.querySelector('.loader').style.display = 'block';\n    fetchImages(event.target.elements.search.value)\n        .then(data => {\n            if (!data.total) {\n                iziToast.warning({\n                    message:\n                        'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n                return;\n            }\n\n            const imagesMarkup = renderImages(data);\n            imagesList.innerHTML = imagesMarkup;\n\n            const gallery = new SimpleLightbox('.list-item a', {\n                captionsData: 'alt',\n                captionDelay: 250,\n            });\n            gallery.refresh();\n        })\n        .finally(() => {\n            document.querySelector('.loader').style.display = 'none';\n        });\n});\n"],"names":["createParams","imagesTag","fetchImages","response","renderImages","imagesObj","largeImageURL","webformatURL","tags","likes","views","comments","downloads","form","imagesList","event","data","iziToast","imagesMarkup","SimpleLightbox"],"mappings":"6vBAAA,SAASA,EAAaC,EAAW,CAQ7B,OAPqB,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGA,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,CAEL,CAEe,SAASC,EAAYD,EAAW,CAC3C,OAAO,MAAM,4BAA4BD,EAAaC,CAAS,CAAC,EAAE,EAAE,KAChEE,GAAY,CACR,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MACnB,CACT,CACA,CCrBe,SAASC,EAAaC,EAAW,CAoC5C,OAnC0BA,EAAU,KAAK,IACrC,CAAC,CACG,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACZ,IACmB;AAAA,mCACgBN,CAAa;AAAA,wCACRC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qCAK7BC,CAAK;AAAA;AAAA;AAAA;AAAA,qCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qCAIRC,CAAS;AAAA;AAAA;AAAA,2BAK9C,EAC6B,KAAK,EAAE,CACpC,CChCA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAa,SAAS,cAAc,IAAI,EAE9CD,EAAK,iBAAiB,SAAUE,GAAS,CACrCA,EAAM,eAAc,EAEfA,EAAM,OAAO,SAAS,OAAO,QAIlCD,EAAW,UAAY,GACvB,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,QAClDZ,EAAYa,EAAM,OAAO,SAAS,OAAO,KAAK,EACzC,KAAKC,GAAQ,CACV,GAAI,CAACA,EAAK,MAAO,CACbC,EAAS,QAAQ,CACb,QACI,2EACJ,SAAU,UAC9B,CAAiB,EACD,MACH,CAED,MAAMC,EAAed,EAAaY,CAAI,EACtCF,EAAW,UAAYI,EAEP,IAAIC,EAAe,eAAgB,CAC/C,aAAc,MACd,aAAc,GAC9B,CAAa,EACO,QAAO,CAC3B,CAAS,EACA,QAAQ,IAAM,CACX,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,MAC9D,CAAS,EACT,CAAC"}